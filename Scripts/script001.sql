
CREATE SCHEMA AD;
CREATE SCHEMA EV;

CREATE TABLE AD.AD001 (
  AD001_IT_ID SERIAL PRIMARY KEY NOT NULL,
  AD001_VC_RZSOCI varchar NOT NULL,
  AD001_VC_NFANTA varchar NOT NULL,
  AD001_VC_BIOGRAF varchar(600) NOT NULL,
  AD001_VC_END varchar NOT NULL,
  AD001_IT_NUM numeric,
  AD001_VC_COMPL varchar(30),
  AD001_VC_BAIRRO varchar NOT NULL,
  AD001_VC_CIDADE varchar NOT NULL,
  AD001_VC_CEP varchar(8) NOT NULL,
  AD001_VC_ESTADO varchar(2) NOT NULL,
  AD001_VC_PAIS varchar NOT NULL,
  AD001_VC_EMAIL varchar unique,
  AD001_VC_TELEF varchar,
  AD001_VC_LOGIN varchar unique NOT NULL,
  AD001_VC_SENHA varchar NOT NULL,
  AD001_DT_ABERTURA numeric(8,0) NOT NULL,
  AD001_IT_ATUAC integer NOT NULL,
  AD001_VC_CNPJ varchar(14) unique,
  AD001_VC_INSCMUN varchar,
  AD001_VC_INSCEST varchar,
  AD001_VC_LOGO varchar,
  AD001_IT_SITUAC numeric(2,0) NOT NULL,
  AD001_DT_ULTATU timestamp NOT NULL,
  AD001_DT_INCLUS timestamp NOT NULL
);

CREATE TABLE AD.AD002 (
  AD002_IT_ID SERIAL PRIMARY KEY NOT NULL,
  AD002_VC_NOME varchar NOT NULL,
  AD002_VC_SOBREN varchar NOT NULL,
  AD002_VC_END varchar ,
  AD002_IT_NUM numeric,
  AD002_VC_COMPL varchar(30),
  AD002_VC_BAIRRO varchar ,
  AD002_VC_CIDADE varchar ,
  AD002_VC_CEP varchar(8) ,
  AD002_VC_ESTADO varchar(2) ,
  AD002_VC_PAIS varchar ,
  AD002_VC_EMAIL VARCHAR unique ,
  AD002_VC_TELEF VARCHAR unique,

  AD002_VC_RG varchar unique,
  AD002_VC_CPF varchar(11) unique,
  AD002_DT_NASC numeric(8,0),

  AD002_IT_SEXO numeric(2,0),
  AD002_VC_LOGIN varchar UNIQUE NOT NULL,
  AD002_VC_SENHA varchar NOT NULL,
  AD002_IT_SITUAC numeric(2,0) NOT NULL,
  AD002_DT_ULTATU timestamp NOT NULL,
  AD002_DT_INCLUS timestamp NOT NULL
);

CREATE TABLE AD.AD003 (
  AD003_IT_ID SERIAL PRIMARY KEY NOT NULL,
  AD003_VC_DESC varchar(40),
  AD003_DT_ULTATU timestamp,
  AD003_DT_INCLUS timestamp
);

CREATE TABLE AD.AD004 (
  AD004_IT_ID SERIAL PRIMARY KEY NOT NULL,
  AD004_VC_DESC varchar(30) NOT NULL,
  AD004_DT_ULTATU timestamp NOT NULL,
  AD004_DT_INCLUS timestamp NOT NULL
);

CREATE TABLE AD.AD005 (
  AD005_IT_ID SERIAL PRIMARY KEY NOT NULL,
  AD005_IT_VOLUNT numeric NOT NULL,
  AD005_IT_PREFER numeric NOT NULL,
  AD005_DT_ULTATU timestamp NOT NULL,
  AD005_DT_INCLUS timestamp NOT NULL
);



CREATE TABLE EV.EV001 (
  EV001_IT_ID SERIAL PRIMARY KEY NOT NULL,
  EV001_IT_INST integer NOT NULL,
  EV001_VC_END varchar NOT NULL,
  EV001_IT_NUM numeric,
  EV001_VC_COMPL varchar(30),
  EV001_VC_BAIRRO varchar NOT NULL,
  EV001_VC_CIDADE varchar NOT NULL,
  EV001_VC_CEP varchar(8) NOT NULL,
  EV001_VC_ESTADO varchar(2) NOT NULL,
  EV001_VC_PAIS varchar NOT NULL,
  EV001_VC_TITULO varchar NOT NULL,
  EV001_DT_INIC numeric(8,0) NOT NULL,
  EV001_HR_INIC numeric(4,0) NOT NULL,
  EV001_DT_FIM numeric(8,0) NOT NULL,
  EV001_HR_FIM numeric(4,0) NOT NULL,
  EV001_IT_NPART numeric NOT NULL,
  EV001_VC_FMSG1 varchar(90) NOT NULL,
  EV001_VC_FMSG2 varchar(90) NOT NULL,
  EV001_VC_FMSG3 varchar(99) NOT NULL,
  EV001_VC_FMSG4 varchar(193) NOT NULL,
  EV001_VC_FMSG5 varchar(135) NOT NULL,
  EV001_VC_PMSG1 varchar(193) NOT NULL,
  EV001_VC_PMSG2 varchar(168) NOT NULL,
  EV001_VC_IMG1 varchar NOT NULL,
  EV001_VC_IMG2 varchar NOT NULL,
  EV001_IT_ATV1 integer NOT NULL,
  EV001_IT_ATV2 integer ,
  EV001_IT_ATV3 integer ,
  EV001_IT_SITUAC numeric(2,0) NOT NULL,
  EV001_DT_ULTATU timestamp NOT NULL,
  EV001_DT_INCLUS timestamp NOT NULL
);


CREATE TABLE EV.EV002 (
  EV002_IT_ID SERIAL PRIMARY KEY NOT NULL,
  EV002_VC_DESC varchar(30) NOT NULL,
  EV002_DT_ULTATU timestamp NOT NULL,
  EV002_DT_INCLUS timestamp NOT NULL
);


CREATE TABLE EV.EV003 (
  EV003_IT_ID SERIAL PRIMARY KEY NOT NULL,
  EV003_IT_EVENTO integer NOT NULL,
  EV003_IT_ATIVID integer NOT NULL,
  EV003_IT_VOLUNT integer NOT NULL,
  EV003_IT_SITUAC numeric(2,0) NOT NULL,
  EV003_DT_ULTATU timestamp NOT NULL,
  EV003_DT_INCLUS timestamp NOT NULL
);


ALTER TABLE AD.AD001 ADD FOREIGN KEY (AD001_IT_ATUAC) REFERENCES AD.AD003(AD003_IT_ID);
ALTER TABLE EV.EV001 ADD FOREIGN KEY (EV001_IT_INST) REFERENCES AD.AD001 (AD001_IT_ID);

ALTER TABLE EV.EV001 ADD FOREIGN KEY (EV001_IT_ATV1) REFERENCES EV.EV002(EV002_IT_ID);
ALTER TABLE EV.EV001 ADD FOREIGN KEY (EV001_IT_ATV2) REFERENCES EV.EV002(EV002_IT_ID);
ALTER TABLE EV.EV001 ADD FOREIGN KEY (EV001_IT_ATV3) REFERENCES EV.EV002(EV002_IT_ID);

ALTER TABLE EV.EV003 ADD FOREIGN KEY (EV003_IT_EVENTO) REFERENCES EV.EV001(EV001_IT_ID);
ALTER TABLE EV.EV003 ADD FOREIGN KEY (EV003_IT_ATIVID) REFERENCES EV.EV002(EV002_IT_ID);
ALTER TABLE EV.EV003 ADD FOREIGN KEY (EV003_IT_VOLUNT) REFERENCES AD.AD002(AD002_IT_ID);
